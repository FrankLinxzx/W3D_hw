<!DOCTYPE html>

<html>

<head>
<style>
#info {
    position: absolute;
    top: 0px;
    width: 100%;
    padding: 20px;
    text-align: center;
    color: #FFFFFF
}

</style>
</head>

<body> 
<div id="info">earth sun & moon</div>
<script src="js/three.min.js"></script>
<script src="js/OrbitControls.js"></script>
<script src="js/KeyboardState.js"></script>

<audio id="soundtrack" autoplay loop style="display:none">
//////////////soundtrack setting
<source src="music/LORDE - Everybody Wants To Rule The World.mp3" type='audio/mp3'>
</audio>
 <script>
 
 
 var camera, scene, renderer, sun, earth, angle = 0,angle1 = 0,
    clock, control;
var turn = 1;
var controls, keyboard = new KeyboardState();
init();
animate();

function init() {
    clock = new THREE.Clock();
    scene = new THREE.Scene();

    camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 1, 1000);
    camera.position.z = 500;
    scene.add(camera);

	
	var sunTexture = new THREE.ImageUtils.loadTexture( 'images/sun.jpg' );
    sun = new THREE.Mesh(new THREE.SphereGeometry(20, 32, 32),
    new THREE.MeshBasicMaterial({
        map:  sunTexture
		//wireframe: true
		 //map: new sunTexture, side: THREE.DoubleSide
    }));
		
	//floorTexture.wrapS = floorTexture.wrapT = THREE.RepeatWrapping; 
	//floorTexture.repeat.set( 1, 4 );
	var earthTexture = new THREE.ImageUtils.loadTexture( 'images/earth.jpg' );
    earth = new THREE.Mesh(new THREE.SphereGeometry(10, 32, 32),
    new THREE.MeshBasicMaterial({
        map:  earthTexture
    }));
	var moonTexture = new THREE.ImageUtils.loadTexture( 'images/moon.jpg' );
    moon = new THREE.Mesh(new THREE.SphereGeometry(3, 32, 32),
    new THREE.MeshBasicMaterial({
        map:  moonTexture
    }));
    earth.add(moon);

	sun.add(earth);
    scene.add(sun);



    light = new THREE.PointLight(0xffffff);
    light.position.set(100, 300, 200);
    scene.add(light);

    renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setClearColor(0x0000000);

    control = new THREE.OrbitControls(camera, renderer.domElement);
    document.body.appendChild(renderer.domElement);
    window.addEventListener('resize', onWindowResize, false);
}

function onWindowResize() {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
}
function update()
{
	control.update();
	keyboard.update();         
	if ( keyboard.down("Z"))  
		turn ^= 1;               
}
function animate() {
	if(turn){ 
	angle += 0.0015;
    earth.position.set(80 * Math.cos(angle), 0, -80 * Math.sin(angle));
    earth.rotation.y = angle*15.8;

    angle2 = angle * 0.0015*12;
    moon.position.set(20 * Math.cos(angle2), 0, -20 * Math.sin(angle2));
    moon.rotation.y = angle2;
	}
	
	
	

	
	requestAnimationFrame ( animate ); 
	update();
	render(); 
}

function render() {
    
	

   

   

    renderer.render(scene, camera);
}
 </script>
</body>

</html>